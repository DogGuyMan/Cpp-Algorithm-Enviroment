##### 무방향은 
1. **Disjoint Set(Union-Find)**,
2. **DFS 부모 체크**,
3. **MST Kruskal cycle check** 등이 주류.
##### 방향은
1. **DFS 색칠(백엣지)**,
2. **Kahn 위상정렬**,
3. **Tarjan SCC**,
4. **Kosaraju SCC** 등이 대표적.

---

## 1. 무방향 그래프 (Undirected Graph)

> 간선이 양방향. DFS에서 직전 부모 간선은 무시해야 함.

| 방법                            | 핵심 아이디어                                                                     | 시간 복잡도 |
| ------------------------------- | --------------------------------------------------------------------------------- | ----------- |
| **① DFS + 부모 체크**           | DFS 중 방문한 인접 정점이 **부모가 아닌데 이미 방문**이면 사이클.                 | O(V+E)      |
| **② Disjoint Set (Union-Find)** | 간선을 하나씩 추가하며, **같은 집합에 속한 두 정점을 연결하려 하면 사이클 발생**. | O(E α(V))   |
| **③ Kruskal MST 기반**          | MST 만들 때, **Union-Find로 사이클 간선 제거** → 남은 간선이 사이클.              | O(E logE)   |
| **④ BFS 기반 Cycle 탐지**       | BFS 큐에서 **방문된 노드가 부모가 아닌데 이미 큐 안에 있으면 사이클**.            | O(V+E)      |

---

## 2. 방향 그래프 (Directed Graph)

> 방향성이 있으므로 DFS와 위상정렬 중심 기법 사용.

| 방법                             | 핵심 아이디어                                                                                        | 시간 복잡도 |
| -------------------------------- | ---------------------------------------------------------------------------------------------------- | ----------- |
| **① DFS 색칠(Back Edge)**        | DFS 방문 상태를 3색(0=미방문,1=방문중,2=완료)으로 관리. **방문중인 노드로 다시 가는 간선** = 사이클. | O(V+E)      |
| **② Kahn 위상정렬**              | 진입차수 0 노드를 제거하다가, **모든 노드를 처리하지 못하면 사이클 존재**.                           | O(V+E)      |
| **③ Tarjan SCC**                 | **Strongly Connected Component**를 찾고, 크기 ≥2인 SCC가 있으면 사이클.                              | O(V+E)      |
| **④ Kosaraju SCC**               | 두 번의 DFS로 SCC를 찾고, 크기 ≥2인 SCC가 있으면 사이클.                                             | O(V+E)      |

---

## 3. 요약 비교

| 그래프 종류 | 가장 자주 쓰는 대표법                          |
| ----------- | ---------------------------------------------- |
| **무방향**  | DFS + 부모 체크, Union-Find                    |
| **방향**    | DFS 색칠(Back Edge), Kahn 위상정렬, Tarjan SCC |

---

## 4. 팁

1. **입력이 간선 리스트로 주어짐 + 무방향** → Union-Find가 간단하고 빠름.
2. **실시간 간선 추가** → Union-Find 또는 동적 위상정렬 알고리즘.
3. **트리인지 판정** → DFS + 부모 체크가 직관적.
4. **방향 그래프 + 단순 여부 판단** → DFS 색칠 또는 Kahn.
5. **SCC를 추가로 활용** → Tarjan/Kosaraju.